<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>老师快乐系统</title>
    <style>
        * {
            user-select: none;
        }

        #head, #body, #foot {
            position: relative;
            text-align: center;
        }

        #title-container {
            display: inline-block;
        }

        #title {
            color: var(--theme-blue);
            cursor: pointer;
            transition: color 300ms ease-in-out;
        }

        #title:hover {
            color: skyblue;
        }

        #navbar-r {
            position: absolute;
            top: 2em;
            right: 2em;
        }

        #body {
            padding-bottom: 100px;
        }

        #usage-area {
            padding: 8px;
        }

        .area-title {
            margin: 0;
            display: inline-block;
            font-size: 24px;
        }

        #ft-link-icon {
            width: 12px;
        }

        #foot {
            width: 100%;
            height: 100px;
            position: absolute;
            left: 0;
            bottom: 0;
        }
    </style>
    <link rel="stylesheet" href="./assets/css/init.css">
    <link rel="stylesheet" href="./assets/css/popup.css">
    <link rel="stylesheet" href="./assets/css/notice.css">
    <link rel="stylesheet" href="./assets/css/fn-item.css">
    <link rel="stylesheet" href="./assets/css/ft-item.css">
    <script src="./assets/js/init.js"></script>
    <script src="./assets/js/popup.js"></script>
    <script src="./assets/js/notice.js"></script>
    <script src="./assets/js/nav/import.js"></script>
    <script src="./assets/js/fn/rand-stu.js"></script>
    <script src="./assets/js/fn/count-down.js"></script>
</head>
<body>
<header id="head">
    <h1 id="title-container">
        <span id="title" title="老师快乐系统">老师快乐系统</span>
    </h1>
    <nav id="navbar-r">
        <a id="import-btn" class="general-link">导入设置</a>
    </nav>
</header>
<article id="body">
    <div id="usage-area">
        <section>
            <h1 class="area-title">功能区</h1>
        </section>
        <hr>
        <section>
            <ul id="fn-list">
                <li id="example-fn" class="fn-item" title="XD">
                    <h2 class="fn-item-title">Example Function</h2>
                    <p class="fn-item-desc">This is an example.<br>But, how do you find me?</p>
                    <button class="fn-item-btn general-btn">立即使用</button>
                    <div class="fn-item-info">What?! You see me!</div>
                </li>
            </ul>
        </section>
    </div>
    <div id="feature-area">
        <section>
            <h1 class="area-title">特性区</h1>
            <a class="general-svg-link">
                <svg id="ft-link-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                    <!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
                    <path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/>
                </svg>
            </a>
        </section>
        <hr>
        <section>
            <ul id="ft-list">
                <!-- neon effect -->
                <li id="example-ft" class="ft-item" title="XD">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                    <h3 class="ft-item-text">Example Feature</h3>
                </li>
            </ul>
        </section>
    </div>
    <div id="topic-desc">

    </div>
</article>
<div id="mask-popup">
    <div id="popup">
        <section id="popup-nav">
            <span id="popup-nav-close">&times;</span>
        </section>
        <section id="popup-body">
            <h1 id="popup-body-title"></h1>
            <div id="popup-body-info"></div>
        </section>
    </div>
</div>
<aside>
    <div id="notice-area"></div>
</aside>
<footer id="foot">
    <p><a class="general-link" href="https://github.com/Horean0574/tch-sys/" target="_blank">开源项目</a></p>
    <p id="copyright">&copy; 2022<span id="this-year"></span> Horean</p>
</footer>
<section id="loading-cover">
    <span style="--i: 1">L</span>
    <span style="--i: 2">o</span>
    <span style="--i: 3">a</span>
    <span style="--i: 4">d</span>
    <span style="--i: 5">i</span>
    <span style="--i: 6">n</span>
    <span style="--i: 7">g</span>
    <span style="--i: 8">.</span>
    <span style="--i: 9">.</span>
    <span style="--i: 10">.</span>
</section>
<script>
    // refresh page if clicking the title
    let pageTitle = document.querySelector("#title");
    pageTitle.addEventListener("click", function () {
        location.reload();
    });

    // get the newest footer date
    let thisYear = document.querySelector("#this-year");
    let date = new Date();
    thisYear.innerHTML = "-" + date.getFullYear();

    // establish localStorage
    if (localStorage["settings"] === undefined) {
        localStorage["settings"] = JSON.stringify({});
    }

    // initialize navigation bar
    initHomeNav();

    // initialize Functions Area
    let fnList = document.querySelector("#fn-list");
    let fnListReq = new XMLHttpRequest();
    fnListReq.open("get", "./assets/data/functions.json");
    fnListReq.send(null);
    fnListReq.addEventListener("load", function () {
        new Promise((resolve) => {
            initFnEle(fnList, fnListReq);
            resolve();
        }).then(() => {
            initFunctions();
        });
    });
    initPopup(); // popup
    initNotice(); // notice

    // initialize Features Area
    let ftLinkIcon = document.querySelector("#ft-link-icon");
    ftLinkIcon.addEventListener("click", function () {
        location = createUrlObj("/feature");
    });
    let ftList = document.querySelector("#ft-list");
    let ftListReq = new XMLHttpRequest();
    ftListReq.open("get", "./assets/data/features.json");
    ftListReq.send(null);
    ftListReq.addEventListener("load", function () {
        new Promise((resolve) => {
            initFtEle(ftList, ftListReq, false);
            // change size value into real numbers for transitions
            for (let item of ftItems) {
                item.style.width = item.offsetWidth + "px";
                item.style.height = item.offsetHeight + "px";
            }
            resolve();
        }).then(() => {
            initFeatures();
        });
    });

    // end loading
    addEventListener("load", function () {
        let loadingCover = document.querySelector("#loading-cover");
        loadingCover.style.display = "none";
    });
</script>
</body>
</html>